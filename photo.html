<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Photo Resizer - EasyFile Tools</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
<div class="logo">EasyFile Tools</div>
<nav><a href="index.html">Home</a></nav>
</header>

<section class="hero">
<h1>Govt Exam Photo Resizer</h1>
<p>Resize Passport Photo (20KB - 500KB)</p>
</section>

<section class="tools">
<div class="upload-box">

<input type="file" id="photoInput" accept="image/*" hidden>
<label for="photoInput" class="upload-label">ðŸ–¼ Select Image</label>

<p id="fileName" class="file-name"></p>

<input type="number" id="photoSize" class="size-input"
placeholder="Enter Max KB (20 - 500)" min="20" max="500">

<button class="compress-btn" onclick="resizePhoto()">Compress Photo</button>

<p id="photoInfo" class="file-name"></p>

<a id="photoDownload" style="display:none;" download="resized-photo.jpg">
<button class="btn">Download Photo</button>
</a>

</div>
</section>

<footer>
<p>Â© 2026 EasyFile Tools</p>
</footer>

<script>
document.getElementById("photoInput").addEventListener("change", function(){
const file=this.files[0];
if(file){
document.getElementById("fileName").innerText=
"Selected: "+file.name+" ("+(file.size/1024).toFixed(2)+" KB)";
}
});

function resizePhoto(){
const file=document.getElementById("photoInput").files[0];
const target=document.getElementById("photoSize").value;
const info=document.getElementById("photoInfo");
const download=document.getElementById("photoDownload");

if(!file || target<20 || target>500){
alert("Upload image & enter size 20-500KB");
return;
}

info.innerHTML="Original Size: "+(file.size/1024).toFixed(2)+" KB";

const reader=new FileReader();
reader.onload=function(e){
const img=new Image();
img.onload=function(){
const canvas=document.createElement("canvas");
const ctx=canvas.getContext("2d");
canvas.width=413;
canvas.height=531;
ctx.drawImage(img,0,0,canvas.width,canvas.height);

let quality=0.9;
let result;

do{
result=canvas.toDataURL("image/jpeg",quality);
quality-=0.05;
}while((result.length/1024)>target && quality>0.1);

info.innerHTML+="<br>Final Size: "+(result.length/1024).toFixed(2)+" KB";
download.href=result;
download.style.display="inline";
};
img.src=e.target.result;
};
reader.readAsDataURL(file);
}
</script>

</body>
</html>
